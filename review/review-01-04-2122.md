- 중요: 벡터/메타데이터 인덱스 생성 함수가 정의돼 있지만 호출되지 않습니다. langchain_pg_embedding에 HNSW/GiN/BTREE 인덱스─ Worked for 3m 17s ────────────────────────────────────────────────────────────────────────────────────────────────────────• 검색 성능과 직결되는 코드 경로를 기준으로 잠재 이슈를 정리했습니다. 핵심은 인덱스/튜닝 로직이 실제 실행 경로에서 호출되지 않는 점입니다.

  잠재 이슈
가 없으면 매 쿼리
    마다 풀스캔+정렬이 발생합니다. api/use_cases/ingest.py:110-123, storage/schema.py:57-109
  - 중요: DB 튜닝 파라미터 적용 함수도 호출되지 않아 IVFFLAT_PROBES/HNSW_EF_* 환경값이 실제 DB에 반영되지 않습니다. 대용량에서 KNN 탐색 효율/
    지연에 직접 영향이 큽니다. storage/schema.py:28-47, shared/config.py:40-43, shared/config.py:101-103
  - 보통: 검색 쿼리가 langchain_pg_collection 조인+c.name 필터로 컬렉션을 제한합니다. KNN 후보가 컬렉션 필터 전에 생성되면  불필요한 탐색/재검
    증이 늘 수 있습니다. retrieval/search.py:104-117
  - 보통: 결과에 e.document 본문 전체를 매번 포함합니다. top_k가 크면 I/O와 네트워크 비용이 커져 검색 지연이 증가할 수 있습 니다. retrieval/
    search.py:105-112